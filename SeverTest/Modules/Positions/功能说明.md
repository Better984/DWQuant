# Positions 模块功能说明

## 功能概述
- 提供仓位查询与状态管理。
- 维护风控配置与风险引擎处理。
- 支持仓位平仓与结果回传（含单仓位与按策略一键平仓）。
- 平仓原因记录：ManualSingle/ManualBatch/StopLoss/TakeProfit/TrailingStop。

## 主要入口
- 控制器：`Controllers/PositionsController.cs`
- 服务：`Application/PositionRiskEngine.cs`、`Application/StrategyPositionCloseService.cs`、`Application/PositionRiskConfigStore.cs`
- 仓储：`Infrastructure/StrategyPositionRepository.cs`

## 联动关系
- `Accounts`：仓位相关接口鉴权。
- `MarketStreaming`：获取行情/价格以评估风险或平仓条件。
- `TradingExecution`：实际下单/平仓执行。
